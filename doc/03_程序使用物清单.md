# 程序使用物清单

本清单记录了保险会计系统中使用的所有资源，包括子程序、文件、数据库表、环境变量等。每项资源包含编号、种类、输入/输出类型、名称、说明和备注。

## 子程序

### 1. **INSPOLVD - 保单验证子程序**
- **说明**: 验证保单ID是否存在于数据库中。接收保单ID参数，返回SQL操作结果代码。对于模拟环境，检查预定义的保单ID列表。
- **备注**: 位于 `src/INSPOLVD.cbl`

### 2. **INSPMINS - 支付记录插入子程序**
- **说明**: 将支付记录插入到数据库中。接收支付记录结构和会计期间参数，返回SQL操作结果代码。
- **备注**: 位于 `src/INSPMINS.cbl`

### 3. **INSPMLOG_EN - 日志记录子程序**
- **说明**: 记录程序日志信息。接收日志级别、模块名和消息，将格式化日志写入到日志文件。
- **备注**: 位于 `src/INSPMLOG_EN.cbl`

## 文件

### 4. **PAYMENT-FILE - 保费支付更新文件**
- **I/O**: 输入
- **说明**: 包含保费支付更新记录。每条记录包含保单ID、支付日期、支付方式等信息。
- **备注**: 固定长度记录，每条58字节，路径由环境变量PAYFILE指定

### 5. **REPORT-FILE - 处理报告文件**
- **I/O**: 输出
- **说明**: 包含处理结果的报告，包括处理记录的详情和统计信息。
- **备注**: 路径由环境变量REPFILE指定

### 6. **LOG-FILE - 日志文件**
- **I/O**: 输出
- **说明**: 记录程序执行日志，包括开始、结束和错误信息。
- **备注**: 路径由环境变量LOGFILE指定

## 数据库表

### 7. **CUSTOMER - 客户表**
- **I/O**: 输入
- **说明**: 存储客户基本信息，如姓名、地址等。
- **备注**: 包含客户ID、姓名、联系信息等字段

### 8. **INSURANCE_POLICY - 保单表**
- **I/O**: 输入
- **说明**: 存储保单基本信息，如保单类型、状态等。
- **备注**: 包含保单ID、客户ID、保单类型、状态、金额等字段

### 9. **PREMIUM_PAYMENT - 保费支付表**
- **I/O**: 输出
- **说明**: 存储保费支付记录。
- **备注**: 包含支付ID、保单ID、支付日期、金额、支付方式等字段

## 环境变量

### 10. **PAYFILE - 支付文件路径**
- **I/O**: 输入
- **说明**: 指定保费支付更新文件的路径。
- **备注**: 在run_compile.sh脚本中设置

### 11. **REPFILE - 报告文件路径**
- **I/O**: 输入
- **说明**: 指定处理报告文件的路径。
- **备注**: 在run_compile.sh脚本中设置

### 12. **LOGFILE - 日志文件路径**
- **I/O**: 输入
- **说明**: 指定日志文件的路径。
- **备注**: 在run_compile.sh脚本中设置

## Copybooks

### 13. **PAYMENTREC.cpy - 支付记录结构**
- **说明**: 定义支付记录的数据结构，包含保单ID、支付日期等字段。
- **备注**: 位于 `copybooks/PAYMENTREC.cpy`

### 14. **LOGGER.cpy - 日志参数**
- **说明**: 定义日志记录参数的数据结构，包含日志级别、模块名、消息等字段。
- **备注**: 位于 `copybooks/LOGGER.cpy`

### 15. **DATECALC.cpy - 日期计算参数**
- **说明**: 定义日期计算参数的数据结构，包含功能代码、基准日期、目标日期等字段。
- **备注**: 位于 `copybooks/DATECALC.cpy`

### 16. **SQLCA.cpy - SQL通信区域**
- **说明**: 定义SQL通信区域的数据结构，用于数据库操作。
- **备注**: 位于 `copybooks/SQLCA.cpy`

## 数据库连接

### 17. **SQLite数据库连接**
- **I/O**: 输入/输出
- **说明**: 连接到SQLite数据库进行保单验证和支付记录插入操作。
- **备注**: 通过init_db.sh脚本初始化数据库 